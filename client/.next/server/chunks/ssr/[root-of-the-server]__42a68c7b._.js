module.exports=[80187,a=>a.a(async(b,c)=>{try{let b=await a.y("react-redux-fe56236b01f37bf1");a.n(b),c()}catch(a){c(a)}},!0),38071,a=>a.a(async(b,c)=>{try{let b=await a.y("@reduxjs/toolkit-30896abe233a4749/query/react");a.n(b),c()}catch(a){c(a)}},!0),57870,a=>a.a(async(b,c)=>{try{var d=a.i(38071),e=b([d]);[d]=e.then?(await e)():e;let f=(0,d.createApi)({reducerPath:"api",baseQuery:(0,d.fetchBaseQuery)({baseUrl:"https://test.bnexteventsnepal.com",credentials:"include"}),tagTypes:["auth","users"],endpoints:()=>({})});a.s(["indexSlice",0,f]),c()}catch(a){c(a)}},!1),28970,a=>a.a(async(b,c)=>{try{var d=a.i(57870),e=b([d]);[d]=e.then?(await e)():e;let{useLoginMutation:f,useRegisterMutation:g,useVerifyQuery:h,useGetAllUsersQuery:i,useSignoutMutation:j,useDeleteUserMutation:k}=d.indexSlice.injectEndpoints({endpoints:a=>({login:a.mutation({query:({email:a,password:b})=>({url:"/auth/login",method:"POST",body:{email:a,password:b}}),invalidatesTags:["auth"]}),register:a.mutation({query:({username:a,email:b,password:c,role:d})=>({url:"/auth/register",method:"POST",body:{username:a,email:b,password:c,role:d}}),invalidatesTags:["users"]}),verify:a.query({query:()=>"/auth/verify",providesTags:["auth"]}),getAllUsers:a.query({query:()=>"/auth/users",providesTags:["users"]}),signout:a.mutation({query:()=>({url:"/auth/signout",method:"POST"}),invalidatesTags:["auth"]}),deleteUser:a.mutation({query:a=>({url:`/auth/users/${a}`,method:"DELETE"}),invalidatesTags:["users"]})})});a.s(["useDeleteUserMutation",0,k,"useGetAllUsersQuery",0,i,"useRegisterMutation",0,g]),c()}catch(a){c(a)}},!1),30791,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(80187),g=a.i(28970),h=b([f,g]);function i({isOpen:a,onClose:b,type:c="add",title:h,subtitle:i,onConfirm:j,confirmText:k="Confirm",cancelText:l="Cancel",userToDelete:m=null,size:n="md"}){let[o,p]=(0,e.useState)({username:"",email:"",password:"",role:"user"}),{role:q}=(0,f.useSelector)(a=>a.user),[r,{isLoading:s,error:t}]=(0,g.useRegisterMutation)(),u=async a=>{if(a.preventDefault(),"add"===c)try{await r(o).unwrap(),p({username:"",email:"",password:"",role:"user"}),b()}catch(a){console.error("Registration failed:",a)}else"delete"===c&&j()},v=a=>{p({...o,[a.target.name]:a.target.value})};return a?(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:`bg-white rounded-2xl shadow-2xl w-full ${(()=>{switch(n){case"sm":return"max-w-md";case"lg":return"max-w-4xl";default:return"max-w-2xl"}})()} transform transition-all duration-300 scale-100`,children:[(0,d.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:h}),i&&(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:i})]}),(0,d.jsx)("button",{onClick:b,className:"p-2 hover:bg-gray-100 w-8 h-8 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-gray-400 text-xl font-bold",children:"×"})})]}),(0,d.jsxs)("form",{onSubmit:u,className:"p-6",children:["add"===c?(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),(0,d.jsx)("input",{type:"text",name:"username",required:!0,value:o.username,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter username"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),(0,d.jsx)("input",{type:"email",name:"email",required:!0,value:o.email,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter email address"})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),(0,d.jsx)("input",{type:"password",name:"password",required:!0,value:o.password,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter password"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"User Role"}),(0,d.jsx)("select",{name:"role",value:o.role,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:(({super_admin:["admin","manager","staff","user"],admin:["manager","staff","user"],manager:["staff","user"],staff:["user"]})[q]||["user"]).map(a=>(0,d.jsx)("option",{value:a,children:a.charAt(0).toUpperCase()+a.slice(1).replace("_"," ")},a))})]})]})]}):(0,d.jsxs)("div",{className:"text-center py-4",children:[(0,d.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-3",children:(0,d.jsx)("span",{className:"text-red-600 text-2xl",children:"⚠"})}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Delete User"}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:["Are you sure you want to delete ",(0,d.jsx)("strong",{children:m?.username}),"? This action cannot be undone."]})]}),t&&"add"===c&&(0,d.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("span",{className:"w-5 h-5 text-red-400 text-lg flex items-center justify-center",children:"⚠"}),(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("p",{className:"text-sm text-red-800",children:t.data?.message||"Registration failed"})})]})}),(0,d.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,d.jsx)("button",{type:"button",onClick:b,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all duration-200 font-medium",children:l}),(0,d.jsx)("button",{type:"submit",disabled:s,className:`px-6 py-3 rounded-lg transition-all duration-200 font-medium flex items-center ${"delete"===c?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:s?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white flex items-center justify-center",children:"◐"}),"delete"===c?"Deleting...":"Creating..."]}):k})]})]})]})}):null}[f,g]=h.then?(await h)():h,a.s(["default",()=>i]),c()}catch(a){c(a)}},!1),74723,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(80187),g=a.i(28970),h=a.i(30791),i=b([f,g,h]);function j(){let{username:a,email:b,role:c}=(0,f.useSelector)(a=>a.user),[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(!1),[m,n]=(0,e.useState)(null),o=["super_admin","admin","manager","staff"].includes(c),{data:p,isLoading:q}=(0,g.useGetAllUsersQuery)(void 0,{skip:!o}),[r]=(0,g.useDeleteUserMutation)(),s=async()=>{try{await r(m.id).unwrap(),l(!1),n(null)}catch(a){alert("Failed to delete user: "+(a.data?.message||"Unknown error"))}};return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),"user"!==c&&(0,d.jsxs)("button",{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center space-x-2 transition-colors",children:[(0,d.jsx)("span",{className:"text-lg",children:"+"}),(0,d.jsx)("span",{children:"Add User"})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,d.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Welcome back, ",a,"!"]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-semibold text-blue-800",children:"Username"}),(0,d.jsx)("p",{className:"text-blue-600",children:a})]}),(0,d.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-semibold text-green-800",children:"Email"}),(0,d.jsx)("p",{className:"text-green-600",children:b})]}),(0,d.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-semibold text-purple-800",children:"Role"}),(0,d.jsx)("p",{className:"text-purple-600",children:c})]})]})]}),o&&(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"User Management"}),(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:[p?.data?.length||0," users"]})]}),q?(0,d.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,d.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading users..."})]}):p?.data?.length>0?(0,d.jsx)("div",{className:"overflow-hidden border border-gray-200 rounded-lg",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.data.map((a,b)=>(0,d.jsxs)("tr",{className:`hover:bg-gray-50 transition-colors ${b%2==0?"bg-white":"bg-gray-25"}`,children:[(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,d.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-sm font-medium text-white",children:a.username.charAt(0).toUpperCase()})})}),(0,d.jsx)("div",{className:"ml-4",children:(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.username})})]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"text-sm text-gray-900",children:a.email})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${"super_admin"===a.role?"bg-red-100 text-red-800":"admin"===a.role?"bg-orange-100 text-orange-800":"manager"===a.role?"bg-blue-100 text-blue-800":"staff"===a.role?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.role.replace("_"," ")})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("span",{children:new Date(a.created_at).toLocaleDateString()}),(0,d.jsx)("span",{className:"text-xs text-gray-400",children:new Date(a.created_at).toLocaleTimeString()})]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,d.jsx)("button",{onClick:()=>{n(a),l(!0)},className:"text-red-600 hover:text-red-900 hover:bg-red-50 px-3 py-1 rounded-md transition-colors text-sm font-medium",children:"Delete"})})]},a.id))})]})}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),(0,d.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),(0,d.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new user."})]})]}),(0,d.jsx)(h.default,{isOpen:i,onClose:()=>j(!1),type:"add",title:"Add New User",subtitle:"Create a new user account with appropriate permissions",confirmText:"Create User",size:"lg"}),(0,d.jsx)(h.default,{isOpen:k,onClose:()=>l(!1),type:"delete",title:"Delete User",onConfirm:s,confirmText:"Delete User",userToDelete:m,size:"sm"})]})}[f,g,h]=i.then?(await i)():i,a.s(["default",()=>j]),c()}catch(a){c(a)}},!1),14026,a=>a.a(async(b,c)=>{try{var d=a.i(19989),e=a.i(64725),f=a.i(16011),g=a.i(24324),h=a.i(69043),i=a.i(74723),j=a.i(60811),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/DashboardPage",pathname:"/DashboardPage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/DashboardPage",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__42a68c7b._.js.map